<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Caveats</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#2B3A42">
    <link rel="shortcut icon" href="/assets/favicon.png">

    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,600|Source+Sans+Pro:200,400,400i,500" rel="stylesheet">

    
      <link href="/219f320cdc27a407dd72.css" rel="stylesheet">
    
  </head>
  <body>
    <div id="site" class="site"><div class="interactive" id="components/navigation/navigation.jsx" data-props="{&quot;sections&quot;:[{&quot;title&quot;:&quot;Bannertime Documentation&quot;,&quot;url&quot;:&quot;/&quot;,&quot;pages&quot;:[]},{&quot;title&quot;:&quot;Guides&quot;,&quot;url&quot;:&quot;guides&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;Installation&quot;,&quot;url&quot;:&quot;guides/installation&quot;},{&quot;title&quot;:&quot;Getting Started&quot;,&quot;url&quot;:&quot;guides/getting-started&quot;},{&quot;title&quot;:&quot;Prompts&quot;,&quot;url&quot;:&quot;guides/prompts&quot;},{&quot;title&quot;:&quot;Contributing&quot;,&quot;url&quot;:&quot;guides/contributing&quot;}]},{&quot;title&quot;:&quot;Other&quot;,&quot;url&quot;:&quot;documentation&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;Advertising Platforms&quot;,&quot;url&quot;:&quot;documentation/advertising-platforms&quot;},{&quot;title&quot;:&quot;Development&quot;,&quot;url&quot;:&quot;documentation/development&quot;},{&quot;title&quot;:&quot;Building for Production&quot;,&quot;url&quot;:&quot;documentation/production-build&quot;},{&quot;title&quot;:&quot;Caveats&quot;,&quot;url&quot;:&quot;documentation/caveats&quot;},{&quot;title&quot;:&quot;Generated files&quot;,&quot;url&quot;:&quot;documentation/file-structure&quot;}]}],&quot;pageUrl&quot;:&quot;documentation/caveats&quot;}"><header class="navigation"><div class="container navigation__inner"></div></header></div><div class="interactive" id="components/sidebar-mobile/sidebar-mobile.jsx" data-props="{&quot;sections&quot;:[{&quot;title&quot;:&quot;Bannertime Documentation&quot;,&quot;url&quot;:&quot;/&quot;,&quot;pages&quot;:[]},{&quot;title&quot;:&quot;Guides&quot;,&quot;url&quot;:&quot;guides&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;Installation&quot;,&quot;url&quot;:&quot;guides/installation&quot;},{&quot;title&quot;:&quot;Getting Started&quot;,&quot;url&quot;:&quot;guides/getting-started&quot;},{&quot;title&quot;:&quot;Prompts&quot;,&quot;url&quot;:&quot;guides/prompts&quot;},{&quot;title&quot;:&quot;Contributing&quot;,&quot;url&quot;:&quot;guides/contributing&quot;}]},{&quot;title&quot;:&quot;Other&quot;,&quot;url&quot;:&quot;documentation&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;Advertising Platforms&quot;,&quot;url&quot;:&quot;documentation/advertising-platforms&quot;},{&quot;title&quot;:&quot;Development&quot;,&quot;url&quot;:&quot;documentation/development&quot;},{&quot;title&quot;:&quot;Building for Production&quot;,&quot;url&quot;:&quot;documentation/production-build&quot;},{&quot;title&quot;:&quot;Caveats&quot;,&quot;url&quot;:&quot;documentation/caveats&quot;},{&quot;title&quot;:&quot;Generated files&quot;,&quot;url&quot;:&quot;documentation/file-structure&quot;}]}]}"><nav class="sidebar-mobile"><div class="sidebar-mobile__toggle"></div><div class="sidebar-mobile__content"><i class="sidebar-mobile__close icon-cross"></i><div class="sidebar-mobile__section "><a href="//" target="_blank" class="sidebar-mobile__section-header"></a></div><div class="sidebar-mobile__section "><a href="/guides" class="sidebar-mobile__section-header"></a><a href="/guides/installation" class="sidebar-mobile__page "></a><a href="/guides/getting-started" class="sidebar-mobile__page "></a><a href="/guides/prompts" class="sidebar-mobile__page "></a><a href="/guides/contributing" class="sidebar-mobile__page "></a></div><div class="sidebar-mobile__section "><a href="/documentation" class="sidebar-mobile__section-header"></a><a href="/documentation/advertising-platforms" class="sidebar-mobile__page "></a><a href="/documentation/development" class="sidebar-mobile__page "></a><a href="/documentation/production-build" class="sidebar-mobile__page "></a><a href="/documentation/caveats" class="sidebar-mobile__page "></a><a href="/documentation/file-structure" class="sidebar-mobile__page "></a></div></div></nav></div><div class="container page"><div class="interactive" id="components/sidebar/sidebar.jsx" data-props="{&quot;sectionName&quot;:&quot;documentation&quot;,&quot;pages&quot;:[{&quot;url&quot;:&quot;documentation/advertising-platforms&quot;,&quot;title&quot;:&quot;Advertising Platforms&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;documentation/development&quot;,&quot;title&quot;:&quot;Development&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;Features&quot;,&quot;id&quot;:&quot;features&quot;},{&quot;title&quot;:&quot;Greensock&quot;,&quot;id&quot;:&quot;greensock&quot;}]},{&quot;url&quot;:&quot;documentation/production-build&quot;,&quot;title&quot;:&quot;Building for Production&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;Production build&quot;,&quot;id&quot;:&quot;production-build&quot;},{&quot;title&quot;:&quot;Individual production tasks&quot;,&quot;id&quot;:&quot;individual-production-tasks&quot;},{&quot;title&quot;:&quot;Compress images&quot;,&quot;id&quot;:&quot;compress-images&quot;},{&quot;title&quot;:&quot;Create backup images&quot;,&quot;id&quot;:&quot;create-backup-images&quot;},{&quot;title&quot;:&quot;Zip banners&quot;,&quot;id&quot;:&quot;zip-banners&quot;}]},{&quot;url&quot;:&quot;documentation/caveats&quot;,&quot;title&quot;:&quot;Caveats&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;Sizmek uglification&quot;,&quot;id&quot;:&quot;sizmek-uglification&quot;},{&quot;title&quot;:&quot;Webkit overflow&quot;,&quot;id&quot;:&quot;webkit-overflow&quot;},{&quot;title&quot;:&quot;Safari &lt;img&gt; centering&quot;,&quot;id&quot;:&quot;safari-img-centering&quot;}]},{&quot;url&quot;:&quot;documentation/file-structure&quot;,&quot;title&quot;:&quot;Generated files&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;File structure&quot;,&quot;id&quot;:&quot;file-structure&quot;},{&quot;title&quot;:&quot;File breakdown&quot;,&quot;id&quot;:&quot;file-breakdown&quot;}]}],&quot;currentPage&quot;:&quot;documentation/caveats&quot;}"><nav class="sidebar"><div class="sidebar__inner"><div class="sidebar-item "><a href="/documentation" class="sidebar-item__title"></a></div><div class="sidebar-item "><a href="/documentation/advertising-platforms" class="sidebar-item__title"></a></div><div class="sidebar-item "><i class="sidebar-item__toggle icon-chevron-right"></i><a href="/documentation/development" class="sidebar-item__title"></a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor"><a href="/documentation/development#features">Features</a></li><li class="sidebar-item__anchor"><a href="/documentation/development#greensock">Greensock</a></li></ul></div><div class="sidebar-item "><i class="sidebar-item__toggle icon-chevron-right"></i><a href="/documentation/production-build" class="sidebar-item__title"></a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor"><a href="/documentation/production-build#production-build">Production build</a></li><li class="sidebar-item__anchor"><a href="/documentation/production-build#individual-production-tasks">Individual production tasks</a></li><li class="sidebar-item__anchor"><a href="/documentation/production-build#compress-images">Compress images</a></li><li class="sidebar-item__anchor"><a href="/documentation/production-build#create-backup-images">Create backup images</a></li><li class="sidebar-item__anchor"><a href="/documentation/production-build#zip-banners">Zip banners</a></li></ul></div><div class="sidebar-item sidebar-item--open"><i class="sidebar-item__toggle icon-chevron-right"></i><a href="/documentation/caveats" class="sidebar-item__title"></a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor"><a href="#sizmek-uglification">Sizmek uglification</a></li><li class="sidebar-item__anchor"><a href="#webkit-overflow">Webkit overflow</a></li><li class="sidebar-item__anchor"><a href="#safari-img-centering">Safari &lt;img&gt; centering</a></li></ul></div><div class="sidebar-item "><i class="sidebar-item__toggle icon-chevron-right"></i><a href="/documentation/file-structure" class="sidebar-item__title"></a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor"><a href="/documentation/file-structure#file-structure">File structure</a></li><li class="sidebar-item__anchor"><a href="/documentation/file-structure#file-breakdown">File breakdown</a></li></ul></div></div></nav></div><section class="page__content"><h1>Caveats</h1><a class="page__edit" href="https://github.com/bannertime/documentation/edit/develop/content/documentation/caveats.md">Edit this Page &#xA0;&#xA0;<i class="icon-edit"></i></a><div><p>This is a roundup of workarounds for browser and platform related issues.</p>
<h3 class="header"><a class="anchor" href="#sizmek-uglification" id="sizmek-uglification"></a><span class="text">Sizmek uglification</span><a class="icon-link" href="#sizmek-uglification"></a></h3>
<p>Recently found an issue where the Sizmek platform was unable to scan an uglified version of the code to pick up <code>EB.clickthrough(&apos;interaction-name&apos;);</code> or <code>EB.userActionCounter(&apos;interaction-name&apos;);</code>.</p>
<p>I&apos;m assuming it has something to do with how the RegEx in the parsing program is identifying these functions.</p>
<p><strong>Possible solutions</strong></p>
<p><strong>1. Beautify the JS</strong></p>
<p>In the javascript.js gulp task I used the following settings in the <code>uglify()</code> function.</p>
<pre><code>uglify<span class="token punctuation">(</span><span class="token punctuation">{</span>
  mangle: false,
  output: <span class="token punctuation">{</span>beautify: true<span class="token punctuation">}</span>,
  compress: <span class="token punctuation">{</span>
    sequences: false,
    unused: <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p><strong>2. Declare it in the HTML</strong></p>
<p>To keep the uglified version of the code, you could also place a copy of the interactions in the HTML in an uncalled function.</p>
<pre><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
  Banner.prototype.sizmekEventLoader <span class="token operator">=</span> function<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    EB.clickthrough<span class="token punctuation">(</span><span class="token string">&apos;interaction-name&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    EB.userActionCounter<span class="token punctuation">(</span><span class="token string">&apos;interaction-name&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
</code></pre><p>This will allow the platform to pick up the interactions and register them against the creative so the metrics can be tracked in the platform.</p>
<p>This method is also appropriate when using dynamic variables in a creative, such as:</p>
<pre><code>var myVar <span class="token operator">=</span> <span class="token string">&apos;foo&apos;</span><span class="token punctuation">;</span>
EB.clickthrough<span class="token punctuation">(</span>myVar<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><pre><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
  Banner.prototype.sizmekEventLoader <span class="token operator">=</span> function<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    EB.clickthrough<span class="token punctuation">(</span><span class="token string">&apos;foo&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
</code></pre><h3 class="header"><a class="anchor" href="#webkit-overflow" id="webkit-overflow"></a><span class="text">Webkit overflow</span><a class="icon-link" href="#webkit-overflow"></a></h3>
<p>Recently a webkit bug was discovered which prevented border-radius from working as expected. The desired effect was to round the edges of a parent element which would mask the overflow of its child elements.</p>
<p>The solution was to create a webkit mask as demonstarted in this example:</p>
<pre><code>/**
 * Create dom elements.
 */
Banner.prototype.createElements <span class="token operator">=</span> function<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  this.container <span class="token operator">=</span> this.smartObject<span class="token punctuation">(</span><span class="token punctuation">{</span>
    height: 100,
    width: 100,
    parent: this.banner,
    overflow: <span class="token string">&apos;hidden&apos;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    this.innerElement <span class="token operator">=</span> this.smartObject<span class="token punctuation">(</span><span class="token punctuation">{</span>
      backgroundColor: <span class="token string">&apos;red&apos;</span>,
      height: 100,
      width: 100,
      parent: this.container
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

/**
 * Setup initial element states.
 */
Banner.prototype.setup <span class="token operator">=</span> function<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  this.container.set<span class="token punctuation">(</span><span class="token punctuation">{</span>borderRadius: <span class="token string">&apos;20px&apos;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  this.container.style.webkitMask <span class="token operator">=</span> <span class="token string">&apos;url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC)&apos;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>The webkit mask acts as a fallback for <code>border-radius</code> when rounding corners of an <code>overflow: hidden</code> element.</p>
<h3 class="header"><a class="anchor" href="#safari-img-centering" id="safari-img-centering"></a><span class="text">Safari <img> centering</span><a class="icon-link" href="#safari-img-centering"></a></h3>
<p>The <code>center()</code>, <code>centerHorizontal()</code>, or <code>centerVertical()</code> methods is unable to correctly position a <code>smartObject()</code> in Safari due to the time it takes the browser to calculate the objects <code>offsetWidth</code> or <code>offsetHeight</code> properties which are used to calculate negative margins.</p>
<p>This can be worked around by either explicitly setting <code>width</code> and <code>height</code> properties. Or simply call the methods after a short delay.</p>
<p><strong>1. Set width and height props</strong></p>
<pre><code class="lang-js"><span class="token keyword">this</span><span class="token punctuation">.</span>image <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">smartObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  src<span class="token punctuation">:</span> <span class="token string">&apos;images/my-image.png&apos;</span><span class="token punctuation">,</span>
  width<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
  height<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
  parent<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>banner
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>2. Call the method after a short delays</strong></p>
<pre><code class="lang-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><hr style="display:block;"><h3 style="display:block;">Contributors</h3><div class="contributors"><div class="contributors__list"><a class="contributor" href="https://github.com/joemidi"><img src="https://github.com/joemidi.png?size=90"><span class="contributor__name"> joemidi</span></a><a class="contributor" href="https://github.com/pyramidium"><img src="https://github.com/pyramidium.png?size=90"><span class="contributor__name"> pyramidium</span></a></div></div><div class="interactive" id="components/gitter/gitter.jsx" data-props="{}"><span class="gitter"><div class="gitter__button js-gitter-toggle-chat-button" style="margin-bottom:0;"><i class="gitter__icon icon-gitter"></i></div></span></div></section></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a href="/guides/installation" class="footer__link">Installation</a><a href="/guides/getting-started" class="footer__link">Getting Started</a><a href="/documentation" class="footer__link">Documentation</a></section><section class="footer__middle"><a href="/" class="footer__icon"><img src="/415b10ade2831179a75b620592ac4911.svg"></a></section><section class="footer__right"><a href="/guides/contributing" class="footer__link">Contributing</a><a href="//gitter.im/pyramidium/generator-bannertime" target="_blank" class="footer__link">Gitter</a><a href="/license" class="footer__link">License</a></section></div></footer></div>

    
      <script src="/4814b801e4a2b37873db35a906afaafc.js"></script>
    

    <script>
      ((window.gitter = {}).chat = {}).options = {
        room: 'pyramidium/generator-bannertime',
        activationElement: false
      };
    </script>

    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
  </body>
</html>
